

------

### **1. GPIO 使用情况**  

| **PA2**  | 复用推挽输出 (AF_PP) | TIM2_CH3 PWM 输出 (电机驱动) | 控制电机速度（PWM 波形）     |
| -------- | -------------------- | ---------------------------- | ---------------------------- |
| **PA4**  | 推挽输出 (Out_PP)    | 左侧电机方向控制 (A_IN1)     | 配合 TB6612 控制左侧电机方向 |
| **PA5**  | 推挽输出 (Out_PP)    | 左侧电机方向控制 (A_IN2)     | 配合 TB6612 控制左侧电机方向 |
| **PA6**  | 推挽输出 (Out_PP)    | 右侧电机方向控制 (B_IN1)     | 配合 TB6612 控制右侧电机方向 |
| **PA7**  | 推挽输出 (Out_PP)    | 右侧电机方向控制 (B_IN2)     | 配合 TB6612 控制右侧电机方向 |
| **PA9**  | 复用推挽输出 (AF_PP) | USART1_TX (蓝牙模块发送)     | 用于与蓝牙模块通信           |
| **PA10** | 上拉输入 (IPU)       | USART1_RX (蓝牙模块接收)     | 用于与蓝牙模块通信           |
| **PB0**  | 复用推挽输出 (AF_PP) | TIM3_CH3 PWM 输出 (舵机驱动) | 驱动舵机                     |
| **PB12** | 推挽输出 (Out_PP)    | HC-SR04 Trig (超声波触发)    | 触发超声波测距模块           |
| **PB13** | 下拉输入 (IPD)       | HC-SR04 Echo (超声波回波)    | 接收超声波测距模块的回波信号 |

------

### **2. 定时器类别及使用情况**  

| **TIM1** | 高级定时器 (Advanced) | 未使用                | 空闲   |                                |
| -------- | --------------------- | --------------------- | ------ | ------------------------------ |
| **TIM2** | 通用定时器 (General)  | PWM 输出 (电机驱动)   | 已使用 | TIM2_CH3 用于生成 20kHz PWM    |
| **TIM3** | 通用定时器 (General)  | PWM 输出 (舵机驱动)   | 已使用 | TIM3_CH3 用于生成 50Hz PWM     |
| **TIM4** | 通用定时器 (General)  | 时间测量 (超声波测距) | 已使用 | 测量 Echo 信号的高电平持续时间 |

------

### **3. 中断资源使用情况**  

| **USART1_IRQn** | 蓝牙模块数据接收           | 抢占优先级 1，子优先级 1 | 用于接收蓝牙模块的数据               |
| --------------- | -------------------------- | ------------------------ | ------------------------------------ |
| **TIM4_IRQn**   | 超声波测距（可选，未实现） | 未使用                   | 如果需要更高精度，可以启用 TIM4 中断 |
| **其他中断**    | 无                         |                          | 当前代码中未使用其他中断             |

------

### **4. 外设资源使用情况**  

| **USART1**      | 蓝牙模块通信                 | 已使用 | 配置为 9600 波特率         |
| --------------- | ---------------------------- | ------ | -------------------------- |
| **Delay_us/ms** | 延时函数                     | 已使用 | 用于微秒级和毫秒级延时     |
| **GPIO**        | 电机、舵机、超声波、蓝牙控制 | 已使用 | 使用多个 GPIO 引脚进行控制 |
| **NVIC**        | 中断优先级配置               | 已使用 | 配置 USART1 中断优先级     |
| **RCC**         | 时钟使能                     | 已使用 | 使能 GPIO 和定时器时钟     |

------

### **总结**  

#### **GPIO 使用情况**  

- PA2：用于 TIM2 的 PWM 输出（电机驱动）。
- PA4、PA5、PA6、PA7：用于 TB6612 的电机方向控制。
- PA9、PA10：用于 USART1 的蓝牙通信。
- PB0：用于 TIM3 的 PWM 输出（舵机驱动）。
- PB12、PB13：用于 HC-SR04 超声波测距模块。

#### **定时器使用情况**  

- TIM2：用于电机驱动（20kHz PWM）。
- TIM3：用于舵机驱动（50Hz PWM）。
- TIM4：用于超声波测距（时间测量）。

#### **中断资源**  

- USART1 中断：用于接收蓝牙模块的数据。
- 其他中断：当前代码中未使用。

#### **外设资源**  

- USART1：用于蓝牙通信。
- Delay_us/ms：用于延时。
- NVIC：用于配置中断优先级。
- RCC：用于时钟使能。